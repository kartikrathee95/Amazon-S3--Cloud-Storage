{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = 'http://localhost:8000/S3';\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Function to set the JWT in the Authorization header\nexport const setAuthToken = token => {\n  if (token) {\n    apiClient.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n  } else {\n    delete apiClient.defaults.headers.common['Authorization'];\n  }\n};\n\n// User Registration\nexport const registerUser = async token => {\n  return await apiClient.post('/auth/oauth/register', {\n    token\n  });\n};\n\n// User Login\nexport const loginUser = async (username, password) => {\n  const params = new URLSearchParams();\n  params.append('username', username);\n  params.append('password', password);\n  return await apiClient.post('/auth/oauth/login', params, {\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  });\n};\n\n// File Upload\nexport const uploadFile = async (file, folderId) => {\n  print(file);\n  const formData = new FormData();\n  formData.append('file', file);\n  if (folderId) formData.append('folder_id', folderId);\n  return await apiClient.post('/files/upload', formData);\n};\n\n// Other API calls (download, list files, etc.) can be added similarly...// List Files (with optional parameters)\nexport const listFiles = async (folderId, search) => {\n  const response = await apiClient.get('/files', {\n    params: {\n      folder_id: folderId,\n      search\n    }\n  });\n  return response;\n};\n\n// Download File\nexport const downloadFile = async fileId => {\n  return await apiClient.get(`/files/download/${fileId}`, {\n    responseType: 'blob'\n  });\n};\n\n// Create Folder\nexport const createFolder = async (folderName, parentId) => {\n  return await apiClient.post('/folders', {\n    folder_name: folderName,\n    parent_id: parentId\n  });\n};\n\n// List Folders\nexport const listFolders = async () => {\n  return await apiClient.get('/folders');\n};\n\n// Delete Folder\nexport const deleteFolder = async folderId => {\n  return await apiClient.delete(`/folders/${folderId}`);\n};\nexport const getUsageAnalytics = async () => {\n  return await apiClient.get('/Analytics');\n};","map":{"version":3,"names":["axios","API_BASE_URL","apiClient","create","baseURL","headers","setAuthToken","token","defaults","common","registerUser","post","loginUser","username","password","params","URLSearchParams","append","uploadFile","file","folderId","print","formData","FormData","listFiles","search","response","get","folder_id","downloadFile","fileId","responseType","createFolder","folderName","parentId","folder_name","parent_id","listFolders","deleteFolder","delete","getUsageAnalytics"],"sources":["/home/kartik/S3 Project/frontend/src/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = 'http://localhost:8000/S3';\n\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Function to set the JWT in the Authorization header\nexport const setAuthToken = (token) => {\n  if (token) {\n    apiClient.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n  } else {\n    delete apiClient.defaults.headers.common['Authorization'];\n  }\n};\n\n// User Registration\nexport const registerUser = async (token) => {\n  return await apiClient.post('/auth/oauth/register', { token });\n};\n\n// User Login\nexport const loginUser = async (username, password) => {\n    const params = new URLSearchParams();\n    params.append('username', username);\n    params.append('password', password);\n\n    return await apiClient.post('/auth/oauth/login', params, {\n        headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n        },\n    });\n};\n\n// File Upload\nexport const uploadFile = async (file, folderId) => {\n  print(file)\n  \n  const formData = new FormData();\n  formData.append('file', file);\n  if (folderId) formData.append('folder_id', folderId);\n  return await apiClient.post('/files/upload', formData);\n};\n\n\n// Other API calls (download, list files, etc.) can be added similarly...// List Files (with optional parameters)\nexport const listFiles = async (folderId, search) => {\n    const response = await apiClient.get('/files', { params: { folder_id: folderId, search } });\n    return response;\n  };\n  \n  // Download File\n  export const downloadFile = async (fileId) => {\n    return await apiClient.get(`/files/download/${fileId}`, { responseType: 'blob' });\n  };\n  \n  // Create Folder\n  export const createFolder = async (folderName, parentId) => {\n    return await apiClient.post('/folders', { folder_name: folderName, parent_id: parentId });\n  };\n  \n  // List Folders\n  export const listFolders = async () => {\n    return await apiClient.get('/folders');\n  };\n  \n  // Delete Folder\n  export const deleteFolder = async (folderId) => {\n    return await apiClient.delete(`/folders/${folderId}`);\n  };\n  \n  export const getUsageAnalytics = async () => {\n    return await apiClient.get('/Analytics');\n  };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}